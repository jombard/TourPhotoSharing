function enableMaps(){$(".js-view-map").removeClass("hidden")}function mapInit(n){var t,r;if(n.preventDefault(),$("#map").toggleClass("hidden"),!$("#map").children().length){if(t=$("img").filter(function(n,t){return t.dataset.lat&&t.dataset.lng&&$(t).is(":visible")}).map(function(n,t){return{lat:parseFloat(t.dataset.lat),lng:parseFloat(t.dataset.lng),alt:"<div><div class='thumbnail'><img src='"+t.src+"' /><\/div><p>"+t.alt+"<\/p><p class='small'>Photo by: "+t.dataset.author+"<\/p><\/div>",src:t.src.split("?")[0]}}),!t.length){r=$("<div />").addClass("alert alert-danger").text("Unfortunately there is no location data for the selected photo's.");$("#map").append(r);return}var u=new google.maps.LatLngBounds,f=new google.maps.InfoWindow,i=new google.maps.Map(document.getElementById("map"));$.each(t,function(n,t){var r=new google.maps.Marker({position:new google.maps.LatLng(t.lat,t.lng),map:i,icon:t.src+"?w=50&h=50&mode=crop"});u.extend(r.position);google.maps.event.addListener(r,"click",function(n){return function(){f.setContent(t.alt);f.open(i,n)}}(r,n))});i.fitBounds(u)}}var google=google||{};$(".js-view-map").on("click",mapInit);